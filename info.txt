# =====================================================
# 📦 УСТАНОВКА BACKEND-ПРОЕКТА НА DJANGO + DRF + CORS
# =====================================================

# 1. Создаём папку под backend и переходим в неё
mkdir backend
cd backend

# 2. Создаём виртуальное окружение
python -m venv venv

# 3. Активируем виртуальное окружение (для Windows)
venv\Scripts\activate

# Если Linux / macOS:
# source venv/bin/activate

# 4. Обновляем pip до актуальной версии
python -m pip install --upgrade pip

# 5. Устанавливаем основные библиотеки
pip install django djangorestframework django-cors-headers

# 6. Создаём Django-проект в текущей папке
django-admin startproject backend .

# =====================================================
# 📦 УСТАНОВКА ДОПОЛНИТЕЛЬНЫХ БИБЛИОТЕК
# =====================================================

pip install python-decouple Pillow django-filter drf-spectacular djangorestframework-simplejwt

# =====================================================
# 📄 СОЗДАНИЕ ФАЙЛА requirements.txt
# =====================================================

# Сохраняем список всех установленных библиотек
pip freeze > requirements.txt

# Теперь этот файл можно использовать при деплое:
# pip install -r requirements.txt

# =====================================================
# 🔧 НАСТРОЙКА GIT-РЕПОЗИТОРИЯ
# =====================================================

cd ..

git init

# Создайте файл .gitignore со следующим содержимым:
cat > .gitignore <<EOL
venv/
__pycache__/
*.pyc
*.pyo
*.log
db.sqlite3
.env
node_modules/
build/
dist/
.vscode/
.idea/
.DS_Store
*.bak
EOL

# Привязываем к GitHub и делаем первый пуш
git remote add origin https://github.com/username/kubikshop.git
git add .
git commit -m "Первый коммит: Django + React проект"
git branch -M main
git push -u origin main

# =====================================================
# 📦 СОЗДАНИЕ ПРИЛОЖЕНИЯ products
# =====================================================

python manage.py startapp products
