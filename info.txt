# =====================================================
# ðŸ“¦ Ð£Ð¡Ð¢ÐÐÐžÐ’ÐšÐ BACKEND-ÐŸÐ ÐžÐ•ÐšÐ¢Ð ÐÐ DJANGO + DRF + CORS
# =====================================================

# 1. Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ð¿Ð°Ð¿ÐºÑƒ Ð¿Ð¾Ð´ backend Ð¸ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð½ÐµÑ‘
mkdir backend
cd backend

# 2. Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶Ð¶ÐµÐ½Ð¸Ðµ
python -m venv venv

# 3. ÐÐºÑ‚Ð¸Ð²Ð¸Ñ€ÑƒÐµÐ¼ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ
# Ð”Ð»Ñ Windows:
venv\Scripts\activate
# Ð”Ð»Ñ Linux/macOS:
# source venv/bin/activate

# 4. ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ pip
python -m pip install --upgrade pip

# 5. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸
pip install django djangorestframework django-cors-headers

# 6. Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Django-Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¹ Ð¿Ð°Ð¿ÐºÐµ
django-admin startproject backend .


# =====================================================
# ðŸ“¦ Ð£Ð¡Ð¢ÐÐÐžÐ’ÐšÐ Ð”ÐžÐŸÐžÐ›ÐÐ˜Ð¢Ð•Ð›Ð¬ÐÐ«Ð¥ Ð‘Ð˜Ð‘Ð›Ð˜ÐžÐ¢Ð•Ðš
# =====================================================

pip install python-decouple Pillow django-filter drf-spectacular djangorestframework-simplejwt


# =====================================================
# ðŸ“„ Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð• Ð¤ÐÐ™Ð›Ð requirements.txt
# =====================================================

# Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐº
pip freeze > requirements.txt

# ÐŸÐ¾Ð·Ð¶Ðµ Ð¼Ð¾Ð¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸Ñ… Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ:
# pip install -r requirements.txt


# =====================================================
# ðŸ”§ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ GIT-Ð Ð•ÐŸÐžÐ—Ð˜Ð¢ÐžÐ Ð˜Ð¯
# =====================================================

cd ..

git init

# Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ Ñ„Ð°Ð¹Ð» .gitignore
cat > .gitignore <<EOL
venv/
__pycache__/
*.pyc
*.pyo
*.log
db.sqlite3
.env
node_modules/
build/
dist/
.vscode/
.idea/
.DS_Store
*.bak
EOL

# ÐŸÑ€Ð¸Ð²ÑÐ·Ñ‹Ð²Ð°ÐµÐ¼ Ðº ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð½Ð¾Ð¼Ñƒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸ÑŽ Ð¸ Ð¿ÑƒÑˆÐ¸Ð¼
git remote add origin https://github.com/username/kubikshop.git
git add .
git commit -m "ÐŸÐµÑ€Ð²Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¼Ð¸Ñ‚: Django + React Ð¿Ñ€Ð¾ÐµÐºÑ‚"
git branch -M master
git push -u origin master


# =====================================================
# ðŸ§± Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð• ÐŸÐ Ð˜Ð›ÐžÐ–Ð•ÐÐ˜Ð¯ products
# =====================================================

cd backend  # ÐµÑÐ»Ð¸ Ð½Ð° ÑˆÐ°Ð³Ðµ Ð²Ñ‹ÑˆÐµ Ð²Ñ‹ÑˆÐ»Ð¸ Ð¸Ð· Ð¿Ð°Ð¿ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
python manage.py startapp products


# =====================================================
# âš™ï¸ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ settings.py
# =====================================================

# 1. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² INSTALLED_APPS:
INSTALLED_APPS = [
    ...
    'rest_framework',
    'corsheaders',
    'products',
    'django_filters',
    'drf_spectacular',
]

# 2. Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ middleware:
MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',
    ...
]

# 3. Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚Ðµ CORS (Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ñ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°):
CORS_ALLOWED_ORIGINS = [
    "http://localhost:3000",
]

# 4. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ REST Framework:
REST_FRAMEWORK = {
    'DEFAULT_SCHEMA_CLASS': 'drf_spectacular.openapi.AutoSchema',
    'DEFAULT_FILTER_BACKENDS': ['django_filters.rest_framework.DjangoFilterBackend'],
    'DEFAULT_AUTHENTICATION_CLASSES': [
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    ],
}


# =====================================================
# ðŸŒ ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ ÐœÐÐ Ð¨Ð Ð£Ð¢ÐžÐ’ (urls.py Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°)
# =====================================================

# ÐžÑ‚ÐºÑ€Ð¾Ð¹ Ñ„Ð°Ð¹Ð» backend/urls.py Ð¸ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ:

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('api/', include('products.urls')),  # Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¼Ð°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹ Ð¸Ð· Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ products
]


# =====================================================
# ðŸŽ¨ Ð¡ÐžÐ—Ð”ÐÐÐ˜Ð• FRONTEND-ÐŸÐ ÐžÐ•ÐšÐ¢Ð ÐÐ REACT
# =====================================================

# 1. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² ÐºÐ¾Ñ€ÐµÐ½ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° (ÐµÑÐ»Ð¸ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ð¼ÑÑ Ð² Ð¿Ð°Ð¿ÐºÐµ backend)
cd ..
mkdir frontend
cd frontend


# 2. Ð¡Ð¾Ð·Ð´Ð°Ñ‘Ð¼ frontend-Ð¿Ð°Ð¿ÐºÑƒ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Create React App
npx create-react-app frontend

# 3. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² frontend
cd frontend

# 4. Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ API Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹
npm install axios react-router-dom jwt-decode

# (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ â€” Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ TailwindCSS)
# npm install -D tailwindcss postcss autoprefixer
# npx tailwindcss init -p
# Ð·Ð°Ñ‚ÐµÐ¼ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ Ñ„Ð°Ð¹Ð» tailwind.config.js Ð¸ index.css

# 5. Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´
npm start

# React-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð½Ð° http://localhost:3000
